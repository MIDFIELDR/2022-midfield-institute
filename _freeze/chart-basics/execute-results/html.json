{
  "hash": "1e1c00bbd02fc3058c8fa46dd7b89b17",
  "result": {
    "markdown": "---\ntitle: \"Chart basics\"\n---\n\n\nAn introduction to ggplot2, an R package for creating charts of quantitative data, adapted and edited from [@Bashir+Eddelbuettel:2018] licensed under [CC BY SA](https://creativecommons.org/licenses/by-sa/2.0/legalcode) by [ilustat](https://ilustat.com/post/writing-real-life-motivated-r-guides/).\n\n\n\n\n\n\n## Preface\n\n[Before starting.]{.important} Our tutorials assume that you\n\n- Have completed the [Before you arrive](before-you-arrive.html) instructions\n- Have completed the [R basics](r-basics.html) guide \n- Start your R session by launching the RStudio project you created, e.g., `midfield-institute-2022.Rproj`\n\n\n[Start a new script.]{.important} We recommend that you start a new script for this segment. \n\n- Use *File &gt; New File &gt; R Script* to create a new R script\n- *File &gt; Save As...* to name the file (we suggest `02-chart-basics.R`), then save it to the `scripts` directory \n- At the top of the script, add a minimal header, something like: \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Chart basics\n# R. Layton \n# 2022-06-07 \n```\n:::\n\n\n- Use `library()` to load packages used in the script. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# silently load packages\nlibrary(\"midfieldr\")\nsuppressMessages(library(\"ggplot2\"))\nsuppressMessages(library(\"data.table\"))\n```\n:::\n\n\n- Save and run. \n\n## One-time data import \n\nR comes with many datasets installed. We'll use the `ChickWeight` data set to cover some basic data manipulation to prepare the data for graphing. \n\nThe help page for `ChickWeight` summarizes the experiment from which the data were collected,  \n\n> The body weights of the chicks were measured at birth and every second day thereafter until day 20. They were also measured on day 21. There were four groups of chicks on different protein diets.‚Äù \n\nYou can view the help page by running,  \n\n``` r\nhelp(\"ChickWeight\")\n```\n\nThere are 578 observations (rows) and 4 variables (columns). Recall that names are case-sensitive---`weight` is lowercase, the other variables are capitalized. \n\n- `Chick`: unique ID for each chick.\n- `Diet`: one of four protein diets.\n- `Time`: number of days since birth.\n- `weight`: body weight of chick in grams.\n\nThe goal of graphing the data is to investigate the effect of diet on weight over time.\n\nIn the [Before you arrive](before-you-arrive.html) instructions, you were asked to create a `data` folder (directory) at the top level of your RStudio project. \n\nWe use `fread()` function from the data.table package to read the data set from the workshop repository (an Internet connection is required). \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# data URL\ndata_url <- \"https://raw.githubusercontent.com/MIDFIELDR/2022-midfield-institute/main/data/ChickWeight.csv\"\n\n# download the data\nChickWeight <- fread(data_url)\n\n# write the data to your data directory\nfwrite(ChickWeight, \"data/Chickweight.csv\")\n```\n:::\n\n\nThese lines of code only have to be run once because from now on you'll read the data from your local directory. Once run, the code chunk above can be commented out of your script, e.g.,  \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# data URL\n# data_url <- \"https://raw.githubusercontent.com/MIDFIELDR/2022-midfield-institute/main/data/ChickWeight.csv\"\n# \n# download the data\n# ChickWeight <- fread(data_url)\n# \n# write the data to your data directory\n# fwrite(ChickWeight, \"data/Chickweight.csv\")\n```\n:::\n\n\n## Read local data\n\nWe import the data from the local file  `ChickWeight.csv` using `fread()`. This function returns a data.table object with a structure slightly different from the same data set built into R. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ncw <- fread(\"data/ChickWeight.csv\")\n```\n:::\n\n\n[Important note.]{.important} If all goes well then the data is now in your environment in an R object called `cw`. If you get the following error message then you need to change the working directory to where the data is stored.\n\n```r\nError: 'ChickWeight.csv' does not exist in current working directory ...\n```\n\n[Change the working directory in RStudio.]{.important} First, confirm that you are working within the R project your set up for the workshop. \n\n- If you are in the project, the project name appears in the upper left corner of the RStudio window. If true, then from the RStudio menu, pull down *Session &gt; Set Working Directory &gt; To Project Directory* and run the script again. \n- If you are not in the project, navigate to the folder you created for the project and launch the `midfield-institute-2022.Rproj` file.  \n- If that project does not exist, you can create it following the [Before you arrive](before-you-arrive.html) instructions. \n\nWhen a project is opened within RStudio,\n\n- A new R session (process) is started.\n- The current working directory is set to the project directory, facilitating the use of relative file paths. \n- Other RStudio settings are restored to where they were the last time the project was closed.\n\n## Look at the data\n\nTo look at the data, type the object (dataset) name:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# view the data\ncw\n#>      Chick Diet Time weight\n#>   1:    18    1    0     39\n#>   2:    18    1    2     35\n#>   3:    16    1    0     41\n#>   4:    16    1    2     45\n#>   5:    16    1    4     49\n#>  ---                       \n#> 574:    48    4   14    170\n#> 575:    48    4   16    222\n#> 576:    48    4   18    261\n#> 577:    48    4   20    303\n#> 578:    48    4   21    322\n```\n:::\n\n\nSeveral base R functions help us inspect the data: \n\n- `str()` compactly displays the structure\n- `summary()` provides a summary\n- `head()` and `tail()` display the beginning and end of the data set\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(cw)\n#> Classes 'data.table' and 'data.frame':\t578 obs. of  4 variables:\n#>  $ Chick : int  18 18 16 16 16 16 16 16 16 15 ...\n#>  $ Diet  : int  1 1 1 1 1 1 1 1 1 1 ...\n#>  $ Time  : int  0 2 0 2 4 6 8 10 12 0 ...\n#>  $ weight: int  39 35 41 45 49 51 57 51 54 41 ...\n#>  - attr(*, \".internal.selfref\")=<externalptr>\n```\n:::\n\n\nThis shows that the dataset has 578 observations and 4 variables as expected. The `str()` output displays the variable types (here, all integers) and the first few values. The RStudio *Environment* pane provides a very similar view.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(cw)\n#>      Chick            Diet            Time           weight     \n#>  Min.   : 1.00   Min.   :1.000   Min.   : 0.00   Min.   : 35.0  \n#>  1st Qu.:13.00   1st Qu.:1.000   1st Qu.: 4.00   1st Qu.: 63.0  \n#>  Median :26.00   Median :2.000   Median :10.00   Median :103.0  \n#>  Mean   :25.75   Mean   :2.235   Mean   :10.72   Mean   :121.8  \n#>  3rd Qu.:38.00   3rd Qu.:3.000   3rd Qu.:16.00   3rd Qu.:163.8  \n#>  Max.   :50.00   Max.   :4.000   Max.   :21.00   Max.   :373.0\n```\n:::\n\n\n\n::: panel-tabset\n## Your turn\n\nUse `tail()` to examine the last observations in `cw` and compare to the last observations in the original `ChickWeight` data set provided in R. \n\nDo they agree?\n\n\n## Answer\n\nYes they agree\n\n\n::: {.cell}\n\n```\n#>    Chick Diet Time weight\n#> 1:    48    4   12    154\n#> 2:    48    4   14    170\n#> 3:    48    4   16    222\n#> 4:    48    4   18    261\n#> 5:    48    4   20    303\n#> 6:    48    4   21    322\n#>    Chick Diet Time weight\n#> 1:    48    4   12    154\n#> 2:    48    4   14    170\n#> 3:    48    4   16    222\n#> 4:    48    4   18    261\n#> 5:    48    4   20    303\n#> 6:    48    4   21    322\n```\n:::\n\n:::\n\n\n\n\n## References\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}